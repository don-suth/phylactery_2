{% extends "_base.html" %}
{% load crispy_forms_tags %}

{% block form_media %}
	{{ wizard.form.media }}
{% endblock %}

{% block content %}
	<p>Step {{ wizard.steps.step1 }} of {{ wizard.steps.count }}</p>
	{% if preview_data %}
		<ul>
			<li>Short Name: {{ preview_data.short_name }}</li>
			<li>Long Name: {{ preview_data.long_name }}</li>
			<li>Pronouns: {{ preview_data.pronouns }}</li>
			<li>Email: {{ preview_data.email_address }}</li>
			<li>Optional Emails: {{ preview_data.optional_emails|yesno:"Yes,No" }}</li>
			<li>Is Guild?: {{ preview_data.is_guild|yesno:"Yes,No" }}</li>
			<li>Is Student?: {{ preview_data.is_student|yesno:"Yes,No" }}</li>
			<li>Student Number: {{ preview_data.student_number }}</li>
		</ul>
	{% endif %}
	<form action="" method="POST">
		{% csrf_token %}
		{{ wizard.management_form }}
		{% if wizard.form.forms %}
			{% for form in wizard.form.forms %}
				{% crispy form %}
			{% endfor %}
		{% else %}
			{% crispy wizard.form %}
		{% endif %}
		<div class="d-flex flex-row justify-content-between">
			<div class="p-2">
				{% if wizard.steps.prev %}
					<button name="wizard_goto_step"
							type="submit"
							value="{{ wizard.steps.prev }}"
							formnovalidate="formnovalidate"
							class="btn btn-secondary">
						<i class="bi-arrow-left"></i> Back
					</button>
				{% else %}
					<button type="button"
							class="btn btn-secondary"
							disabled>
						<i class="bi-arrow-left"></i> Back
					</button>
				{% endif %}
			</div>
			<div class="p-2">
				{% if wizard.steps.next %}
					<button type="submit"
							class="btn btn-primary">
						Next <i class="bi-arrow-right"></i>
					</button>
				{% else %}
					<button type="submit"
							class="btn btn-success">
						Submit <i class="bi-check2"></i>
					</button>
				{% endif %}
			</div>
		</div>
	</form>
{% endblock %}